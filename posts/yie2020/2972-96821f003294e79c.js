"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2972],{81063:function(e,r,t){t.d(r,{n:function(){return s}});var n=t(16835),i=t(93205),o=t(67294),l=t(99214),a=t(15277),c="migration-banner-dismissed";function s(e){var r=e.variant,t=void 0===r?"default":r,s=o.useState(!0),d=(0,n.Z)(s,2),u=d[0],p=d[1];o.useEffect(function(){p(!!(0,l.ej)(c))},[]);var x=o.useCallback(function(){(0,l.d8)(c,"true",{maxAge:31536e3,path:"/"}),p(!0)},[]);return u?null:(0,a.BX)(i.xu,{sx:{backgroundColor:"rgba(0, 122, 255, 0.075)",color:"#007AFF",p:"settings"===t?"20px":"16px",display:"flex",flexDirection:"column",width:"dashboard"===t?void 0:"100%",position:"relative",borderRadius:"settings"===t?"24px":"dashboard"===t?"12px":"16px",marginBottom:"settings"===t?"24px":"dashboard"===t?"16px":void 0,marginTop:"dashboard"===t?"24px":void 0,marginLeft:"dashboard"===t?"24px":void 0,marginRight:"dashboard"===t?"24px":void 0},children:[(0,a.tZ)(i.xu,{as:"button",sx:{position:"absolute",top:"settings"===t?"20px":"16px",right:"settings"===t?"20px":"16px",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",color:"#007AFF","&:hover":{backgroundColor:"rgba(0, 122, 255, 0.1)"}},onClick:x,children:(0,a.tZ)(i.bM,{size:"20px"})}),(0,a.BX)(i.xu,{sx:{pr:"40px"},children:[(0,a.BX)("h3",{sx:{fontSize:"17px",fontWeight:500,color:"#007AFF",margin:0,marginBottom:"16px"},children:["We're bringing the best of Mirror to"," ",(0,a.tZ)("a",{href:"https://paragraph.com?utm_source=mirror&utm_medium=sunset_banner&utm_campaign=top_banner",sx:{color:"#007AFF",textDecoration:"underline"},children:"Paragraph"})," ","and winding down Mirror in the coming months."]}),(0,a.BX)(i.xu,{sx:{marginBottom:"16px"},children:[(0,a.BX)("p",{sx:{margin:0,fontSize:"15px",fontWeight:400,lineHeight:"24px",color:"rgba(0, 122, 255, 0.85)"},children:[(0,a.tZ)("strong",{sx:{color:"#007AFF"},children:"No action by you is required."})," Your writing and subscribers will be automatically imported to Paragraph."]}),(0,a.tZ)("p",{sx:{margin:0,marginTop:"24px",fontSize:"15px",fontWeight:400,lineHeight:"24px",color:"rgba(0, 122, 255, 0.85)"},children:"After Mirror sunsets, anyone visiting your blog will be seamlessly redirected to your new home on Paragraph, where you can keep writing, grow your audience, and unlock new ways to earn."}),(0,a.tZ)("p",{sx:{margin:0,marginTop:"24px",fontSize:"15px",fontWeight:400,lineHeight:"24px",color:"rgba(0, 122, 255, 0.85)"},children:"Questions? Reach out anytime at hello@paragraph.com."})]}),(0,a.tZ)(i.xu,{as:"button",sx:{backgroundColor:"rgba(0, 122, 255, 0.15)",color:"#007AFF",border:"none",borderRadius:"8px",padding:"7px 20px",fontSize:"15px",marginRight:"16px",fontWeight:500,cursor:"pointer",width:"fit-content","&:hover":{backgroundColor:"rgba(0, 122, 255, 0.2)"}},onClick:x,children:"Got it"}),(0,a.tZ)("a",{href:"https://dev.mirror.xyz/x7Oo7SBqapamfxN0hDVNUVwEe151yjrhkxw_ytXjYxw",children:(0,a.tZ)(i.xu,{as:"button",sx:{backgroundColor:"rgba(0, 122, 255, 0.15)",color:"#007AFF",border:"none",borderRadius:"8px",padding:"7px 20px",fontSize:"15px",fontWeight:500,cursor:"pointer",width:"fit-content","&:hover":{backgroundColor:"rgba(0, 122, 255, 0.2)"}},children:"Read more"})})]})]})}},52972:function(e,r,t){t.d(r,{M:function(){return eh}});var n=t(50029),i=t(59499),o=t(16835),l=t(87794),a=t.n(l),c=t(28332),s=t(71641),d=t(93205),u=t(67294),p=t(66010),x=t(42708),f=t(25675),h=t.n(f),b=t(41664),v=t.n(b),g=t(20388),m=t(33751),y=t(99816),Z=t(1011),w=t(8891),j=t(1004),S=t(94371),k=t(78123),O=t(15277),C="collection";function B(e){var r,t,n,i,o,l,a,c,s,p,x,f=e.position,b=e.collector,B=e.digest,z=e.trackingSurface,P=e.wnft,X=e.collectedTimestamp,A=e.publisher,_=e.collectedBy,E=u.useCallback(function(){w.my({entryDigest:B,origin:z,isFeatured:!1,state__card_type:C,state__position:f})},[B,f,z]),D=null==P?void 0:null===(r=P.purchases)||void 0===r?void 0:null===(t=r.numSold)||void 0===t?void 0:t.toLocaleString(void 0,{notation:"compact"});return(0,O.BX)(d.xu,{backgroundColor:"background",borderRadius:"2xLarge",boxShadow:{base:"0.5",hover:"1",active:"0.5"},boxShadowColor:{base:"foregroundSecondary"},className:g.nC,display:"flex",flexDirection:"column",height:"full",transitionDuration:"150",transitionProperty:"shadow",transitionTimingFunction:"inOut",children:[(0,O.tZ)(d.xu,{alignItems:"center",backgroundColor:"foregroundTertiary",borderTopLeftRadius:"2xLarge",borderTopRightRadius:"2xLarge",display:"flex",flexGrow:1,minHeight:"0px",children:(0,O.tZ)(d.xu,{alignItems:"center",aspectRatio:"1/1",borderRadius:"large",display:"flex",flexDirection:"column",flexGrow:1,maxHeight:"full",padding:"16px",children:(0,O.tZ)(d.xu,{aspectRatio:"1/1",borderRadius:"large",display:"flex",flexGrow:1,overflow:"hidden",position:"relative",children:!!(null!=P&&null!==(n=P.media)&&void 0!==n&&n.url)&&(0,O.BX)(O.HY,{children:[(0,O.tZ)(h(),{alt:"Nft media",fill:!0,sizes:"400px",src:P.media.url,style:{objectFit:"cover",objectPosition:"center"},unoptimized:!0}),(0,O.tZ)(d.xu,{borderColor:"foreground",borderRadius:"large",borderWidth:"2px",inset:"0px",pointerEvents:"none",position:"absolute",style:{opacity:.04}})]})})})}),(0,O.BX)(d.xu,{display:"flex",flexDirection:"column",padding:"16px",children:[(0,O.BX)(d.xu,{alignItems:"center",display:"flex",children:[(0,O.tZ)(m.H,{project:b,source:"collection_card",trackingSurface:z,children:(0,O.tZ)(v(),{className:g.f3,href:null!==(i=(0,y.no)({project:b}))&&void 0!==i?i:"",children:(0,O.tZ)(d.qE,{address:null==b?void 0:b.address,ensAvatarHook:Z.u,label:"Collection card publisher label",placeholder:!b,size:"40px",src:null==b?void 0:b.avatarURL})})}),(0,O.tZ)(S.L,{size:"12px"}),(0,O.BX)(d.xu,{display:"flex",flexDirection:"column",gap:"2px",overflow:"hidden",children:[(0,O.BX)(d.xv,{lineHeight:"none",size:"small",weight:"semiBold",children:[(0,O.tZ)(m.H,{project:b,source:"collection_card",trackingSurface:z,children:(0,O.tZ)(v(),{className:g.f3,href:null!==(o=(0,y.no)({project:b}))&&void 0!==o?o:"",children:null===(l=(0,y.pY)(b))||void 0===l?void 0:l.value})})," ",(0,O.BX)(d.xv,{as:"span",color:"textTertiary",size:"extraSmall",children:["â€¢"," ",(0,O.tZ)(d.xv,{as:"span",color:"inherit",weight:"normal",children:(0,j.tn)(X)})]})]}),(0,O.BX)(d.xv,{color:"textTertiary",ellipsis:!0,size:"small",whiteSpace:"nowrap",children:["Minted an entry from"," ",(0,O.tZ)(m.H,{project:A,source:"collection_card",trackingSurface:z,children:(0,O.tZ)(v(),{className:g.f3,href:null!==(a=(0,y.no)({project:A}))&&void 0!==a?a:"",children:(0,O.tZ)(d.xv,{as:"span",weight:"semiBold",children:null===(c=(0,y.pY)(A))||void 0===c?void 0:c.value})})})]})]})]}),(0,O.tZ)(S.L,{size:"12px"}),(0,O.tZ)(k.Z,{cardType:C,collectedBy:_,digest:null!=B?B:void 0,formattedNumSold:D,isFeatured:!1,position:f,publisher:null!==(s=null==P?void 0:null===(p=P.publisher)||void 0===p?void 0:p.project)&&void 0!==s?s:void 0,referrerAddress:null!==(x=b.address)&&void 0!==x?x:void 0,showIframe:!0,surface:z})]}),(0,O.tZ)(v(),{className:g.Aw,href:"".concat((0,y.no)({project:A}),"/").concat(B),onClick:E})]})}var z=t(88373),P=t(31800),X=t(18913),A=t(64799),_=t(58315),E=t(1643),D=t(35266),L=t(48254),T=t(58372),I=t(6830),R=t(52779);function F(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function N(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?F(Object(t),!0).forEach(function(r){(0,i.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function W(e){var r,t,i,o,l,c,s,u=(0,T.X)(),p=(0,I.u)({isSubscribed:{value:!!e.isSubscribed,loading:void 0===e.isSubscribed},projectAddress:null===(r=e.project)||void 0===r?void 0:r.address,source:"InboxSuggested",forceModal:!0}),x=N(N({},p.buttonProps),{},{variant:e.isSubscribed?"secondary":"primary",width:"full",size:"extraSmall"}),f=(0,y.pp)({project:e.project,displayStrings:["ens","address"],formatWalletAddress:function(e){return e.substring(0,6)}});return(0,O.BX)(d.xu,{alignItems:"center",borderColor:"foregroundSecondary",borderRadius:"2xLarge",borderWidth:"1px",display:"flex",flexDirection:"column",gap:"8px",padding:"16px",style:{minWidth:240,height:272},textAlign:"center",children:[(0,O.tZ)(v(),{href:null!==(t=(0,y.no)({project:e.project}))&&void 0!==t?t:"",children:(0,O.BX)(d.Kq,{align:"center",space:"4px",children:[(0,O.tZ)(d.qE,{label:"Suggested Curator Avatar",size:"40px",src:null!==(i=null===(o=e.project)||void 0===o?void 0:o.avatarURL)&&void 0!==i?i:void 0}),(0,O.tZ)(d.xv,{size:"base",weight:"semiBold",children:(0,E.Z)(null!==(l=null===(c=(0,y.pY)(e.project))||void 0===c?void 0:c.value)&&void 0!==l?l:"",{length:28})}),(0,O.tZ)(d.Vp,{size:"small",children:null==f?void 0:f.value})]})}),(0,O.tZ)(d.xu,{as:"text",color:"textSecondary",fontSize:"label",style:{WebkitLineClamp:"4",WebkitBoxOrient:"vertical",overflow:"hidden",display:"-webkit-box"},children:null===(s=e.project)||void 0===s?void 0:s.description}),(0,O.tZ)(S.L,{grow:!0}),(0,O.tZ)(d.zx,N(N({shape:"square"},x),{},{onClick:(0,n.Z)(a().mark(function r(){var t;return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,p.buttonProps.onClick();case 2:if(u.current){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,(0,L.O)(null===(t=e.project)||void 0===t?void 0:t.address,{fetchPolicy:"cache-only"});case 6:if(r.sent){r.next=9;break}return r.abrupt("return");case 9:return r.next=11,R.l8.refetchQueries({include:[D.K3U]});case 11:case"end":return r.stop()}},r)})),children:e.isSubscribed?"Subscribed":"Subscribe"}))]})}function M(e){var r,t,i,o,l,c,s,u,p,x=(0,T.X)(),f=(0,I.u)({isSubscribed:{value:!!e.isSubscribed,loading:void 0===e.isSubscribed},projectAddress:null===(r=e.project)||void 0===r?void 0:r.address,source:"InboxSuggested",forceModal:!0}),h=N(N({},f.buttonProps),{},{variant:e.isSubscribed?"secondary":"primary",size:"small"}),b=(0,y.pp)({project:e.project,displayStrings:["ens","address"],formatWalletAddress:function(e){return e.substring(0,6)}});return(0,O.BX)(d.xu,{borderColor:"foregroundSecondary",borderRadius:"2xLarge",borderWidth:"1px",display:"flex",flexDirection:"column",gap:"8px",minHeight:"96px",padding:"16px",children:[(0,O.BX)(d.xu,{alignItems:"center",display:"flex",children:[(0,O.tZ)(v(),{href:null!==(t=(0,y.no)({project:e.project}))&&void 0!==t?t:"",children:(0,O.BX)(d.xu,{alignItems:"center",display:"flex",gap:"4px",children:[(0,O.tZ)(d.qE,{address:null!==(i=null===(o=e.project)||void 0===o?void 0:o.address)&&void 0!==i?i:void 0,label:"",size:"40px",src:null!==(l=null===(c=e.project)||void 0===c?void 0:c.avatarURL)&&void 0!==l?l:void 0}),(0,O.BX)(d.xu,{marginLeft:"8px",children:[(0,O.tZ)(v(),{href:null!==(s=(0,y.no)({project:e.project}))&&void 0!==s?s:"",children:(0,O.tZ)(d.xv,{lineHeight:"none",size:"small",weight:"semiBold",children:(0,E.Z)(null===(u=(0,y.pY)(e.project))||void 0===u?void 0:u.value,{length:22})})}),(0,O.tZ)(d.xv,{color:"textTertiary",size:"small",children:null==b?void 0:b.value})]})]})}),(0,O.tZ)(S.L,{grow:!0,size:"16px"}),(0,O.tZ)(d.zx,N(N({shape:"square"},h),{},{onClick:(0,n.Z)(a().mark(function r(){var t;return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.buttonProps.onClick();case 2:if(x.current){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,(0,L.O)(null===(t=e.project)||void 0===t?void 0:t.address,{fetchPolicy:"cache-only"});case 6:if(r.sent){r.next=9;break}return r.abrupt("return");case 9:return r.next=11,R.l8.refetchQueries({include:[D.K3U]});case 11:case"end":return r.stop()}},r)})),children:e.isSubscribed?(0,O.tZ)(d.mi,{size:"20px"}):(0,O.tZ)(d.c4,{size:"20px"})}))]}),(0,O.tZ)(d.xu,{as:"text",color:"textSecondary",fontSize:"label",style:{WebkitLineClamp:"3",WebkitBoxOrient:"vertical",overflow:"hidden",display:"-webkit-box"},children:null===(p=e.project)||void 0===p?void 0:p.description})]})}var H=t(44731);function q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function U(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?q(Object(t),!0).forEach(function(r){(0,i.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function K(e){var r=(0,T.X)(),t=(0,u.useContext)(H.kH),i=(0,u.useState)(!1),o=i[0],l=i[1];return(0,O.tZ)(d.zx,U(U({disabled:e.disabled||o,loading:e.isLoading||o,onClick:(0,n.Z)(a().mark(function n(){var i;return a().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l(!0),n.prev=1,n.next=4,t();case 4:if(i=n.sent,r.current){n.next=7;break}throw Error();case 7:if(i){n.next=9;break}throw Error();case 9:if(!e.projectAddresses){n.next=15;break}return c.track("discovery__suggested_subscribe_to_all"),n.next=13,Promise.allSettled(e.projectAddresses.map(function(e){return R.l8.mutate({mutation:D.ngk,variables:{projectAddress:e,source:"InboxExplore"},update:L.T})}));case 13:return n.next=15,R.l8.refetchQueries({include:[D.K3U]});case 15:n.next=19;break;case 17:n.prev=17,n.t0=n.catch(1);case 19:l(!1);case 20:case"end":return n.stop()}},n,null,[[1,17]])}))},e),{},{children:"Subscribe to All"}))}var Y=t(15531);function V(e){var r=e.isOpen,t=e.onClose,n=e.suggestedCurators,i=u.useState(0),l=(0,o.Z)(i,2),a=l[0],c=l[1],s=null==n?void 0:n.slice(4*a,(a+1)*4),p=Math.ceil(((null==n?void 0:n.length)||0)/4-1);return(0,O.tZ)(Y.Z,{isOpen:r,onClose:t,children:(0,O.BX)(d.xu,{backgroundColor:"background",borderRadius:"3xLarge",style:{width:600},children:[(0,O.BX)(d.xu,{alignItems:"center",borderBottomWidth:"1px",borderColor:"foregroundSecondary",display:"flex",justifyContent:"center",padding:"16px",position:"relative",children:[(0,O.tZ)(d.xv,{size:"small",weight:"semiBold",children:"Suggestions"}),(0,O.tZ)(d.xu,{as:"button",cursor:"pointer",position:"absolute",right:"20px",onClick:function(){c(0),t()},children:(0,O.tZ)(d.bM,{color:"textTertiary",size:"20px"})})]}),(0,O.BX)(d.xu,{alignItems:"center",display:"flex",flexDirection:"column",gap:"16px",paddingX:"40px",paddingY:"24px",children:[(0,O.tZ)(d.xu,{display:{xs:"flex",sm:"none"},flexDirection:"column",gap:"16px",minWidth:"256px",width:"full",children:null==s?void 0:s.map(function(e){var r=e.curator,t=e.isSubscribed;return(0,O.tZ)(M,{isSubscribed:t,project:r},"suggestions-curator-modal-compact-".concat(r.address,"}"))})}),(0,O.tZ)(d.xu,{display:{xs:"none",sm:"grid"},gap:"16px",minWidth:"256px",style:{gridTemplateColumns:"repeat(2, 252px)",gridTemplateRows:"repeat(2, 272px)"},children:null==s?void 0:s.map(function(e){var r=e.curator,t=e.isSubscribed;return(0,O.tZ)(W,{isSubscribed:t,project:r},"suggestions-curator-modal-".concat(r.address,"}"))})}),(0,O.tZ)(K,{projectAddresses:null==s?void 0:s.map(function(e){return e.curator.address?e.curator.address:null}).filter(Boolean),size:"small",variant:"secondary",width:"full"}),(0,O.BX)(d.xu,{display:"flex",gap:"8px",children:[(0,O.tZ)(d.xu,{opacity:0===a?"50":void 0,children:(0,O.tZ)(d.zx,{disabled:0===a,shape:"square",size:"extraSmall",variant:"tertiary",onClick:function(){return c(function(e){return e-1})},children:(0,O.tZ)(d.ed,{color:"inherit",size:"20px",strokeWidth:"2px"})})}),(0,O.tZ)(d.xu,{opacity:a===p?"50":void 0,children:(0,O.tZ)(d.zx,{disabled:a===p,shape:"square",size:"extraSmall",variant:"tertiary",onClick:function(){return c(function(e){return e+1})},children:(0,O.tZ)(d.VG,{color:"inherit",size:"20px",strokeWidth:"2px"})})})]})]})]})})}var G=t(26520);function Q(){var e,r,t=(0,G.a)(),n=null===(e=(0,s.a)(D.K3U,t.userAddress?{variables:{address:t.userAddress,limit:20}}:{skip:!0}).data)||void 0===e?void 0:null===(r=e.suggestedCurators)||void 0===r?void 0:r.suggestedCurators,i=u.useState(!1),l=(0,o.Z)(i,2),a=l[0],c=l[1];return(0,O.BX)(d.xu,{children:[(0,O.BX)(d.xu,{display:"flex",marginBottom:"12px",paddingX:"16px",children:[(0,O.tZ)(d.xv,{size:"base",weight:"semiBold",children:"Suggestions"}),(0,O.tZ)(S.L,{grow:!0}),(0,O.tZ)(d.zx,{size:"extraSmall",variant:"transparent",onClick:function(){return c(!0)},children:"View All"})]}),(0,O.tZ)(d.xu,{display:"flex",gap:"16px",overflow:"auto",paddingX:"16px",children:Array.from({length:5}).map(function(e,r){var t=null==n?void 0:n[r];return(0,O.tZ)(W,{isSubscribed:null==t?void 0:t.isSubscribed,project:null==t?void 0:t.curator},r)})}),(0,O.tZ)(V,{isOpen:a,suggestedCurators:n,onClose:function(){return c(!1)}})]})}var $=t(81063),J=t(69426),ee=t(14154);function er(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function et(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?er(Object(t),!0).forEach(function(r){(0,i.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):er(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function en(){var e,r,t=(0,G.a)(),n=(0,s.a)(D.K3U,t.userAddress?{variables:{address:t.userAddress,limit:20}}:{skip:!0}),i=null===(e=n.data)||void 0===e?void 0:null===(r=e.suggestedCurators)||void 0===r?void 0:r.suggestedCurators,l=u.useState(!1),a=(0,o.Z)(l,2),c=a[0],p=a[1];return(0,O.BX)(d.Kq,{space:"16px",children:[(0,O.BX)(d.xu,{children:[(0,O.BX)(d.xu,{alignItems:"center",display:"flex",children:[(0,O.tZ)(d.xv,{size:"large",weight:"semiBold",children:"Suggestions"}),(0,O.tZ)(S.L,{grow:!0}),(0,O.tZ)(d.zx,{size:"extraSmall",variant:"transparent",onClick:function(){return p(!0)},children:"View All"})]}),(0,O.tZ)(S.L,{size:"8px"}),(0,O.tZ)(d.xv,{color:"textTertiary",children:"Subscribe to receive updates whenever a new entry is created or collected."})]}),(0,O.BX)(d.xu,{display:"flex",flexDirection:"column",gap:"16px",children:[Array.from({length:5}).map(function(e,r){var t=null==i?void 0:i[r];return(0,O.tZ)(ei,{isSubscribed:null==t?void 0:t.isSubscribed,project:null==t?void 0:t.curator},r)}),(0,O.tZ)(K,{isLoading:n.loading,projectAddresses:null==i?void 0:i.slice(0,5).map(function(e){return e.curator.address?e.curator.address:null}).filter(Boolean),size:"small",variant:"secondary",width:"full"})]}),(0,O.tZ)(V,{isOpen:c,suggestedCurators:i,onClose:function(){return p(!1)}})]})}function ei(e){var r,t,i,o,l,c,s,u,p,x=(0,ee.XM)(),f=(0,I.u)({isSubscribed:{value:!!e.isSubscribed,loading:void 0===e.isSubscribed},projectAddress:null===(r=e.project)||void 0===r?void 0:r.address,source:"InboxSuggested",forceModal:!0}),h=(0,y.pp)({project:e.project,displayStrings:["ens","address"],formatWalletAddress:function(e){return e.substring(0,6)}});return(0,O.tZ)(d.Od,{height:"48px",loading:!e.project,width:"full",children:(0,O.BX)(d.xu,{alignItems:"center",display:"flex",children:[(0,O.tZ)(m.H,{align:"end",project:null!==(t=e.project)&&void 0!==t?t:void 0,side:"left",source:"suggested_curator_list",children:(0,O.tZ)(v(),{href:null!==(i=(0,y.no)({project:e.project}))&&void 0!==i?i:"",children:(0,O.BX)(d.xu,{alignItems:"center",display:"flex",gap:"4px",children:[(0,O.tZ)(d.qE,{address:null!==(o=null===(l=e.project)||void 0===l?void 0:l.address)&&void 0!==o?o:void 0,label:"",size:"40px",src:null!==(c=null===(s=e.project)||void 0===s?void 0:s.avatarURL)&&void 0!==c?c:void 0}),(0,O.BX)(d.xu,{marginLeft:"8px",children:[(0,O.tZ)(v(),{href:null!==(u=(0,y.no)({project:e.project}))&&void 0!==u?u:"",children:(0,O.tZ)(d.xv,{lineHeight:"none",size:"small",weight:"semiBold",children:(0,E.Z)(null===(p=(0,y.pY)(e.project))||void 0===p?void 0:p.value,{length:22})})}),(0,O.tZ)(d.xv,{color:"textTertiary",size:"small",children:null==h?void 0:h.value})]})]})})}),(0,O.tZ)(S.L,{grow:!0,size:"16px"}),(0,O.tZ)(d.zx,et(et({},f.buttonProps),{},{shape:"square",size:"small",width:"fit",onClick:(0,n.Z)(a().mark(function r(){var t;return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.buttonProps.onClick();case 2:if(x.current){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,(0,L.O)(null===(t=e.project)||void 0===t?void 0:t.address,{fetchPolicy:"cache-only"});case 6:if(r.sent){r.next=9;break}return r.abrupt("return");case 9:R.l8.refetchQueries({include:[D.K3U]});case 10:case"end":return r.stop()}},r)})),children:e.isSubscribed?(0,O.tZ)(d.mi,{size:"20px"}):(0,O.tZ)(d.c4,{size:"20px"})}))]})})}var eo=t(95150),el=t(67277),ea=function(e){var r=e.children;return(0,O.tZ)(d.xu,{alignItems:"center",backgroundColor:"background",display:"flex",flexDirection:"column",width:"full",children:(0,O.BX)(d.xu,{className:eo.G8,children:[r,(0,O.tZ)(ed,{})]})})},ec=function(){return(0,O.BX)(d.xu,{children:[(0,O.tZ)(d.X6,{color:"text",level:"2",children:(0,O.tZ)(d.xu,{as:"span",style:{fontFamily:'"ABC Social", sans-serif'},children:"Inbox"})}),(0,O.tZ)(d.xv,{color:"textTertiary",size:"base",children:"New entries and activity from your subscriptions."})]})},es=function(){return(0,O.tZ)(d.xu,{className:eo.h3,children:(0,O.BX)(d.xu,{backgroundColor:"foregroundTertiary",borderRadius:"2xLarge",display:"flex",flexDirection:"column",gap:"8px",height:"full",justifyContent:"center",paddingX:"24px",textAlign:"center",width:"full",children:[(0,O.tZ)(d.xv,{color:"textSecondary",size:"base",weight:"semiBold",children:"Your inbox is empty... for now"}),(0,O.tZ)(d.xv,{color:"textTertiary",size:"small",children:"Subscribe to creators and collectors to begin your journey."})]})})},ed=function(){return(0,O.BX)(d.xu,{className:eo.IX,children:[(0,O.tZ)(en,{}),(0,O.tZ)(S.L,{grow:!0,size:"32px"}),(0,O.tZ)(d.xu,{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"16px",justifyContent:{xs:"center",lg:"flex-start"},children:J.a.map(function(e){return(0,O.tZ)(v(),{href:e.href,target:"_blank",children:(0,O.tZ)(d.xv,{color:{base:"textTertiary",hover:"textSecondary"},size:"extraSmall",children:e.text})},e.href)})})]})},eu=function(e){var r=e.children,t=e.disableFilters,n=e.onFilterChange,i=e.selectedFilter,o=void 0===i?"All":i;return(0,O.BX)(d.xu,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24px",overflow:"hidden",paddingBottom:"48px",paddingTop:"24px",width:"full",children:[(0,O.tZ)(d.xu,{className:eo.fM,children:(0,O.tZ)($.n,{})}),(0,O.BX)(d.xu,{className:eo.fM,children:[(0,O.tZ)(ec,{}),!t&&(0,O.tZ)(d.Kq,{direction:"horizontal",space:"8px",wrap:!0,children:el.V5.map(function(e){return(0,O.tZ)(d.xu,{cursor:"pointer",onClick:function(){null==n||n(e);var r=e.toLowerCase();c.track("discovery__inbox_selected_".concat(r,"_filter"))},children:(0,O.tZ)(d.Vp,{hover:!0,tone:o===e?"primary":void 0,children:e})},"inbox-filter-".concat(e))})})]}),r]})};function ep(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function ex(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function ef(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ex(Object(t),!0).forEach(function(r){(0,i.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ex(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var eh=function(){(0,_.$)("discovery__inbox_page_viewed",{properties:w.Vc}),(0,u.useEffect)(function(){window.history.scrollRestoration="manual"},[]);var e,r,t,i,l,f=u.useState("All"),h=(0,o.Z)(f,2),b=h[0],v=h[1],g={excludeCollected:"Published"===b,excludePublished:"Collected"===b},m=(0,s.a)(el.cN.count,{variables:g,onError:function(){return p.Am.error(P.DU)}}),y=m.data,Z=m.loading,j=null==y?void 0:null===(e=y.inbox2EntriesCount)||void 0===e?void 0:e.entriesCount,S=null==y?void 0:null===(r=y.inbox2EntriesCount)||void 0===r?void 0:r.timestamp,k=(0,s.a)(el.cN.inbox,j&&S?{variables:ef({limit:el.bN},g)}:{skip:!0}),C=k.data,E=k.loading,D=k.fetchMore,L=null==C?void 0:C.inbox2Entries,T=(0,A.i)(function(){var e=null==C?void 0:null===(n=C.inbox2Entries)||void 0===n?void 0:n.cursorStart,r=null==C?void 0:null===(i=C.inbox2Entries)||void 0===i?void 0:i.cursorEnd,t=null==C?void 0:null===(o=C.inbox2Entries)||void 0===o?void 0:o.entries;if(e&&r&&t){var n,i,o,l,a=t.filter(function(t){return t.eventTimestamp<=e&&t.eventTimestamp>r}),s=0,d=0,u=function(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(e){if("string"==typeof e)return ep(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ep(e,r)}}(e))){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){a=!0,o=e},f:function(){try{l||null==t.return||t.return()}finally{if(a)throw o}}}}(a);try{for(u.s();!(l=u.n()).done;)l.value.collected?d+=1:s+=1}catch(e){u.e(e)}finally{u.f()}c.track("discovery__inbox_page_loaded",{num_entries:s,num_collections:d,filter:b})}});u.useEffect(function(){T()},[null==C?void 0:null===(t=C.inbox2Entries)||void 0===t?void 0:t.cursorEnd,null==C?void 0:null===(i=C.inbox2Entries)||void 0===i?void 0:i.cursorStart,T]);var I=u.useCallback((0,n.Z)(a().mark(function e(){var r;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.track("discovery__inbox_more_loaded"),e.prev=1,!(!C||!(null!==(r=C.inbox2Entries)&&void 0!==r&&r.cursorEnd))){e.next=4;break}throw Error();case 4:return e.next=6,D({variables:{limit:el.bN,cursorStart:C.inbox2Entries.cursorEnd}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p.Am.error(P.DU);case 11:case"end":return e.stop()}},e,null,[[1,8]])})),[C,D]),R=Z||E,F=!j||!(null!=C&&null!==(l=C.inbox2Entries)&&void 0!==l&&l.entries.length),N=u.useMemo(function(){return R?Array.from({length:el.bN},function(e,r){return(0,O.tZ)(d.xu,{className:eo.h3,children:(0,O.tZ)(d.Od,{height:"full",loading:!0,radius:"2xLarge",width:"full"})},"loading-".concat(r))}):F?[(0,O.tZ)(d.xu,{display:{xs:"block",md:"none"},paddingX:"16px",width:"full",children:(0,O.tZ)(en,{})},"suggest-curators-container"),(0,O.tZ)(es,{},"empty-inbox-card")]:function(e,r){if(!e)return[];var t=[],n=e.entries;return n.forEach(function(e,i){2===i&&t.push((0,O.tZ)(d.xu,{display:{xs:"block",md:"none"},width:"full",children:(0,O.tZ)(Q,{})}));var o,l,a,c,s,u,p=null==e?void 0:e.entry,f=e.collectedByProject,h=e.collected&&!!f,b={digest:p.digest,publisher:null!==(o=null===(l=p.publisher)||void 0===l?void 0:l.project)&&void 0!==o?o:void 0,title:p.title,trackingSurface:"inbox_page",wnft:p.writingNFT,position:i+1,collectedBy:null===(a=p.collectorBubbles)||void 0===a?void 0:a.filter(Boolean)},v=(0,O.tZ)(d.xu,{className:eo.h3,children:h?(0,O.tZ)(B,ef({collectedTimestamp:e.eventTimestamp/1e3,collector:f},b)):(0,O.tZ)(z.M,ef(ef({description:(0,X.DK)(p),headerImage:null!==(c=null===(s=p.featuredImage)||void 0===s?void 0:s.url)&&void 0!==c?c:void 0,publishedAtTimestamp:null!==(u=p.publishedAtTimestamp)&&void 0!==u?u:void 0,showIframe:!0},b),{},{unoptimizedImage:!0}))},"".concat(p._id,".").concat(null==f?void 0:f.address,".").concat(e.collected));i===n.length-1?t.push((0,O.tZ)(x.df,{onChange:function(e){e&&(null==r||r())},children:v})):t.push(v)}),t}(L,I)},[L,I,R,F]);return(0,O.tZ)(ea,{children:(0,O.tZ)(eu,{disableFilters:F&&!R,selectedFilter:b,onFilterChange:function(e){return v(e)},children:N})})}}}]);